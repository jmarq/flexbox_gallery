<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Imagery</title>
    <link rel="stylesheet" href="static/css/imagery.css">
  </head>
  <body>
    <section class="image-gallery">
      <article class="thumbnails">
        <img class="thumbnail" src="static/images/thumbs/meadowbrook1.thumbnail.JPG" alt="">
        <img class="thumbnail" src="static/images/thumbs/meadowbrook2.thumbnail.JPG" alt="">
        <img class="thumbnail" src="static/images/thumbs/meadowbrook3.thumbnail.JPG" alt="">
        <img class="thumbnail" src="static/images/thumbs/meadowbrook4.thumbnail.JPG" alt="">
        <img class="thumbnail" src="static/images/thumbs/meadowbrook5.thumbnail.JPG" alt="">
	<img class="thumbnail" src="static/images/thumbs/meadowbrook1.thumbnail.JPG" alt="">
	<img class="thumbnail" src="static/images/thumbs/meadowbrook2.thumbnail.JPG" alt="">
	<img class="thumbnail" src="static/images/thumbs/meadowbrook3.thumbnail.JPG" alt="">
	<img class="thumbnail" src="static/images/thumbs/meadowbrook4.thumbnail.JPG" alt="">
	<img class="thumbnail" src="static/images/thumbs/meadowbrook5.thumbnail.JPG" alt="">
      </article>
    </section>
    <section class="modal hidden">
      <div class="backdrop"></div>
      <div class="slides">
        <div class="slide1 slide">
          <img alt="">
        </div>
      </div>
      
    </section>
  </body>
  <script>
    var thumbnail_section = document.querySelector(".thumbnails");
    var thumbnails = document.querySelectorAll(".thumbnail");
    console.log(thumbnails);
    for( var i=0; i < thumbnails.length; i +=1){ 
      var thumb = thumbnails[i];
      console.log(thumb);
      thumb.addEventListener("click", handleThumbnailClick);
    }
    document.querySelector(".modal").addEventListener("click",handleModalClick);


    function thumbnailToSource(thumbnailSource){
      return thumbnailSource.replace("/thumbs","").replace(".thumbnail","");
    }

    function handleThumbnailClick(event){
      console.log("thumbnail clicked");
      var img_src = this.src;
      img_src = thumbnailToSource(img_src);
      var modal_img = document.querySelector(".modal img");
      modal_img.src = img_src;

      var modal = document.querySelector(".modal");
      var backdrop = modal.querySelector(".backdrop");
      modal.classList.remove("hidden");
      backdrop.classList.add("clicked");
      backdrop.style.height = window.innerHeight+"px";
      modal_img.style.height = window.innerHeight-50+"px";
      thumbnail_section.classList.add("hidden");
    }
    
    function handleModalClick(event){
      this.classList.add("hidden");
      thumbnail_section.classList.remove("hidden");

    }
  </script>
</html>
